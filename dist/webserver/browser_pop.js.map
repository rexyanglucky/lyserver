{"version":3,"sources":["../../src/webserver/browser_pop.js"],"names":["obj","myBrowser","userAgent","navigator","isOpera","indexOf","isIE","isFF","isSafari","isChrome","toLowerCase","isQQ","isSouGo","is360","window","mimeTypes","isAaoyou","browserVersion","browserType","browserGc","reIE","RegExp","test","fIEVersion","parseFloat","binfo","removePop","pop","document","getElementById","parentNode","removeChild","onload","createPop","onclick","innerHTML","layer","style","position","maxWidth","Math","max","documentElement","scrollWidth","clientWidth","maxHeight","scrollHeight","clientHeight","width","height","html","warp","createElement","className","id","getElementsByTagName","appendChild","alert"],"mappings":"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","file":"browser_pop.js","sourcesContent":["(function (obj) {\r\n    function myBrowser() {\r\n        var userAgent = navigator.userAgent; //取得浏览器的userAgent字符串\r\n        var isOpera = userAgent.indexOf(\"Opera\") > -1; //判断是否Opera浏览器\r\n        var isIE = userAgent.indexOf(\"compatible\") > -1 && userAgent.indexOf(\"MSIE\") > -1 && !isOpera; //判断是否IE浏览器\r\n        var isFF = userAgent.indexOf(\"Firefox\") > -1; //判断是否Firefox浏览器\r\n        var isSafari = userAgent.indexOf(\"Safari\") > -1; //判断是否Safari浏览器\r\n        var isChrome = userAgent.toLowerCase().indexOf(\"chrome\") > -1;//判断是否谷歌内核浏览器\r\n        var isQQ=userAgent.toLowerCase().indexOf(\"qqbrowser\")>-1;//判断是否QQ浏览器\r\n        var isSouGo=userAgent.toLowerCase().indexOf(\"se\")>-1 &&userAgent.toLowerCase().indexOf(\"metasr\")>-1 ;//判断是否搜狗浏览器\r\n        var is360=userAgent.toLowerCase().indexOf(\"360se\")>-1||userAgent.toLowerCase().indexOf(\"360ee\")>-1||window.navigator.mimeTypes[40];//判断是否360浏览器\r\n        var isAaoyou=userAgent.toLowerCase().indexOf(\"maxthon\")>-1;//判断是否遨游浏览器\r\n        var browserVersion = '';\r\n        var browserType = 'IE';\r\n        //套壳浏览器类型\r\n        var browserGc=\"\";\r\n        if (isIE) {\r\n            var reIE = new RegExp(\"MSIE (\\\\d+\\\\.\\\\d+);\");\r\n            reIE.test(userAgent);\r\n            var fIEVersion = parseFloat(RegExp[\"$1\"]);\r\n            browserVersion = fIEVersion;\r\n            browserType = 'IE';\r\n            //套壳浏览器 类型\r\n            if(isQQ)\r\n            {\r\n                browserGc=\"QQ\";\r\n            }\r\n            else if(isSouGo){\r\n                browserGc=\"搜狗\";\r\n            }\r\n            else if(is360){\r\n                browserGc=\"360\";\r\n            }\r\n            else if(isAaoyou){\r\n                browserGc=\"遨游\";\r\n            }\r\n        }//isIE end\r\n        if (isFF) {\r\n            browserType = \"FF\";\r\n            browserVersion = \"FF\";\r\n        }\r\n        if (isOpera) {\r\n            browserType = \"Opera\";\r\n            browserVersion = \"Opera\";\r\n        }\r\n        if (isChrome) {\r\n            browserType = \"Chrome\";\r\n            browserVersion = \"Chrome\";\r\n             //套壳浏览器 类型\r\n             if(isQQ)\r\n             {\r\n                 browserGc=\"QQ\";\r\n             }\r\n             else if(isSouGo){\r\n                 browserGc=\"搜狗\";\r\n             }\r\n             else if(is360){\r\n                 browserGc=\"360\";\r\n             }\r\n             else if(isAaoyou){\r\n                 browserGc=\"遨游\";\r\n             }\r\n        }\r\n        return { browserType: browserType, browserVersion: browserVersion,browserGc:browserGc };\r\n    }\r\n    var binfo = myBrowser();\r\n    if (binfo.browserType == \"FF\") {\r\n            }\r\n    if (binfo.browserType == \"Opera\") {\r\n    }\r\n    if (binfo.browserType == \"Safari\") {\r\n    }\r\n    if (binfo == \"Chrome\") {\r\n    }\r\n\r\n    function removePop() {\r\n        var pop = document.getElementById(\"browser_pop\");\r\n        pop.parentNode.removeChild(pop);\r\n    }\r\n    obj.onload = function () {\r\n        //todo 低版本浏览器的判断标准\r\n        if (binfo.browserType == \"IE\" && binfo.browserVersion < 9) {\r\n        createPop();\r\n        document.getElementById(\"btn_pop_close\").onclick = removePop;\r\n        document.getElementById(\"btn_pop_close1\").onclick = removePop;\r\n        if(binfo.browserGc){\r\n            document.getElementById(\"low_msg\").innerHTML=\"您的浏览器处于兼容模式\";\r\n        }\r\n        if (binfo.browserType == \"IE\" && binfo.browserVersion < 7) {\r\n                var layer = document.getElementById(\"pop_layer\");\r\n                layer.style.position = \"absolute\";\r\n                var maxWidth = Math.max(document.documentElement.scrollWidth, document.documentElement.clientWidth) + \"px\";\r\n                var maxHeight = Math.max(document.documentElement.scrollHeight, document.documentElement.clientHeight) + \"px\";\r\n                layer.style.width = maxWidth;\r\n                layer.style.height = maxHeight;\r\n\r\n        }\r\n\r\n     }\r\n\r\n\r\n    }\r\n    function createPop() {\r\n        // var html = ' <div class=\"browser_pop \" id=\"browser_pop\">';\r\n        var html = '<div class=\"pop_layer\" id=\"pop_layer\">';\r\n        html += '</div>';\r\n        html += '<div class=\"pop_bg_img pop\">';\r\n        html += '<div class=\"pop_warp\">';\r\n        html += '<div class=\"pop_bg_img close_bg \" id=\"btn_pop_close\">';\r\n        html += '<i class=\"pop_bg_img close\"></i>';\r\n        html += '</div>';\r\n        html += '<div class=\"pop_main\">';\r\n        html += '<div class=\"browser_low\">';\r\n        html += '<p id=\"low_msg\">您的浏览器版本过低</p>';\r\n        html += '<p>可能导致网站无法正常访问！</p>';\r\n        html += '</div>';\r\n        html += '<div class=\"browser_suggest\">';\r\n        html += '<div class=\"browser_item browser_item_IE\">';\r\n        html += '<a href=\"https://support.microsoft.com/zh-cn/products/internet-explorer#!/zh-cn/products/internet-explorer\">';\r\n        html += '<div class=\"pop_bg_img browser_icon \"></div>';\r\n        html += '<div class=\"browser_info\">';\r\n        html += '<p>IE9.0</p>';\r\n        html += '<p>及以上版本</p>';\r\n        html += '</div>';\r\n        html += '</a>';\r\n        html += '</div>';\r\n        html += '<div class=\"browser_item browser_item_chrome\">';\r\n        html += '<a href=\"https://www.google.cn/intl/zh-CN/chrome/browser/desktop/?spm=a21bo.50862.20161112.d1.7ea3a888TMe4iC\">';\r\n        html += '<div class=\"pop_bg_img browser_icon \"></div>';\r\n        html += '<div class=\"browser_info\">';\r\n        html += '<p>谷歌浏览器</p>'; html += '<p>最新版本</p>';\r\n        html += '</div>'; html += '</a>'; html += '</div>';\r\n        html += '<div class=\"browser_item browser_item_firfox\">';\r\n        html += '<a href=\"http://www.firefox.com.cn/#desktop \">';\r\n        html += '<div class=\"pop_bg_img browser_icon \"></div>';\r\n        html += '<div class=\"browser_info\">';\r\n        html += '<p>火狐浏览器</p>';\r\n        html += '<p>最新版本</p>'; html += '</div>';\r\n        html += '</a>'; html += '</div>';\r\n        html += '</div>';\r\n        html += '<div class=\"browser_jisu\">';\r\n        html += '<span class=\"browser_jisu_info\">可支持在极速模式下使用的浏览器：</span>';\r\n        html += '<a href=\"javascript:void(0)\" class=\"browser_jisu_item sg\"><i class=\"pop_bg_img browser_icon_js browser_sg\"></i></a>';\r\n        html += '<a href=\"javascript:void(0)\" class=\"browser_jisu_item\"><i class=\"pop_bg_img browser_icon_js browser_360\"></i></a>';\r\n        html += '<a href=\"javascript:void(0)\" class=\"browser_jisu_item\"><i class=\"pop_bg_img browser_icon_js browser_qq\"></i></a>';\r\n        html += '</div>';\r\n        html += '<p class=\"btn_close \"><span  id=\"btn_pop_close1\">任性，继续访问</span></p>';\r\n        html += '</div>';\r\n        html += '</div>';\r\n        html += '</div>';\r\n        // html += '</div>';\r\n        var warp = document.createElement(\"div\");\r\n        warp.className = \"browser_pop\";\r\n        warp.id = \"browser_pop\";\r\n        warp.innerHTML = html;\r\n        if (document.getElementsByTagName) {\r\n            document.getElementsByTagName(\"body\")[0].appendChild(warp);\r\n        }\r\n    }\r\n})(window);\r\nalert(1);"]}
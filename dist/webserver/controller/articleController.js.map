{"version":3,"sources":["../../../src/webserver/controller/articleController.js"],"names":["console","log","controller","bll","add","req","res","router","param","createTime","Date","toUTCString","updateTime","saveArticle","result","writeHead","end","JSON","stringify","code","data","detial","id","getArticle","list","getArticleList","delete","delArticle","module","exports"],"mappings":"aAAA,4C;AACAA,QAAQC,GAAR;AACA,IAAIC,aAAa;AACbC,SAAK,uBADQ;;AAGbC,QAAIC,GAAJ,EAASC,GAAT,EAAcC,MAAd,EAAsB;AAClB,YAAIC,QAAQD,OAAOC,KAAnB;AACAA,cAAMC,UAAN,GAAmB,IAAIC,IAAJ,GAAWC,WAAX,EAAnB;AACAH,cAAMI,UAAN,GAAmB,IAAIF,IAAJ,GAAWC,WAAX,EAAnB;AACAX,gBAAQC,GAAR,CAAYO,KAAZ;AACA,aAAKL,GAAL,CAASU,WAAT;AACKC,cAAD,IAAY;AACRR,gBAAIS,SAAJ,CAAc,GAAd,EAAmB,EAAE,gBAAgB,0BAAlB,EAAnB;AACAT,gBAAIU,GAAJ,CAAQC,KAAKC,SAAL,CAAe,EAAEC,MAAM,CAAR,EAAWC,MAAMN,MAAjB,EAAf,CAAR;AACH,SAJL;AAKI;AACA;AACA;AACA;AACA;AACA;AACA;AACAN,aAZJ;;AAcH,KAtBY;AAuBb;;;;;;AAMAa,WAAOhB,GAAP,EAAYC,GAAZ,EAAiBC,MAAjB,EAAyB;AACrB,YAAIe,KAAKf,OAAOC,KAAP,CAAac,EAAtB;AACA,aAAKnB,GAAL,CAASoB,UAAT,CAAqBT,MAAD,IAAY;AAC5BR,gBAAIS,SAAJ,CAAc,GAAd,EAAmB,EAAE,gBAAgB,0BAAlB,EAAnB;AACAT,gBAAIU,GAAJ,CAAQC,KAAKC,SAAL,CAAe,EAAEC,MAAM,CAAR,EAAWC,MAAMN,MAAjB,EAAf,CAAR;AACH,SAHD,EAGGQ,EAHH;AAIH,KAnCY;AAoCbE,SAAKnB,GAAL,EAAUC,GAAV,EAAeC,MAAf,EAAuB;AACnB,YAAIC,QAAQD,OAAOC,KAAnB;AACA,aAAKL,GAAL,CAASsB,cAAT,CAAyBX,MAAD,IAAY;AAChCR,gBAAIS,SAAJ,CAAc,GAAd,EAAmB,EAAE,gBAAgB,0BAAlB,EAAnB;AACAT,gBAAIU,GAAJ,CAAQC,KAAKC,SAAL,CAAe,EAAEC,MAAM,CAAR,EAAWC,MAAMN,MAAjB,EAAf,CAAR;AACH,SAHD,EAGGN,KAHH;;AAKH,KA3CY;AA4CbkB,WAAOrB,GAAP,EAAWC,GAAX,EAAeC,MAAf,EAAsB;AAClB,YAAIe,KAAKf,OAAOC,KAAP,CAAac,EAAtB;AACA,aAAKnB,GAAL,CAASwB,UAAT,CAAqBb,MAAD,IAAY;AAC5BR,gBAAIS,SAAJ,CAAc,GAAd,EAAmB,EAAE,gBAAgB,0BAAlB,EAAnB;AACAT,gBAAIU,GAAJ,CAAQC,KAAKC,SAAL,CAAe,EAAEC,MAAM,CAAR,EAAWC,MAAMN,MAAjB,EAAf,CAAR;AACH,SAHD,EAGGQ,EAHH;AAIH,KAlDY,EAAjB;;;;AAsDAM,OAAOC,OAAP,GAAiB3B,UAAjB","file":"articleController.js","sourcesContent":["import { default as Bll } from \"../../bll/article\";\r\nconsole.log(Bll);\r\nlet controller = {\r\n    bll: new Bll(),\r\n\r\n    add(req, res, router) {\r\n        let param = router.param;\r\n        param.createTime = new Date().toUTCString();\r\n        param.updateTime = new Date().toUTCString();\r\n        console.log(param);\r\n        this.bll.saveArticle(\r\n            (result) => {\r\n                res.writeHead(200, { 'Content-Type': 'text/plain;charset:utf-8' });\r\n                res.end(JSON.stringify({ code: 1, data: result }));\r\n            },\r\n            // {\r\n            //     title: \"公交卡\",\r\n            //     content: \"公交卡好蓝啊\",\r\n            //     author: \"rex\",\r\n            //     createTime: new Date().toUTCString(),\r\n            //     updateTime: new Date().toUTCString()\r\n            // }\r\n            param\r\n        );\r\n    },\r\n    /**\r\n     * 查看文章详情\r\n     * @param {*} req \r\n     * @param {*} res \r\n     * @param {*} router \r\n     */\r\n    detial(req, res, router) {\r\n        let id = router.param.id;\r\n        this.bll.getArticle((result) => {\r\n            res.writeHead(200, { 'Content-Type': 'text/plain;charset:utf-8' });\r\n            res.end(JSON.stringify({ code: 1, data: result }));\r\n        }, id)\r\n    },\r\n    list(req, res, router) {\r\n        let param = router.param;\r\n        this.bll.getArticleList((result) => {\r\n            res.writeHead(200, { 'Content-Type': 'text/plain;charset:utf-8' });\r\n            res.end(JSON.stringify({ code: 1, data: result }));\r\n        }, param);\r\n\r\n    },\r\n    delete(req,res,router){\r\n        let id = router.param.id;\r\n        this.bll.delArticle((result) => {\r\n            res.writeHead(200, { 'Content-Type': 'text/plain;charset:utf-8' });\r\n            res.end(JSON.stringify({ code: 1, data: result }));\r\n        }, id)\r\n    }\r\n\r\n\r\n}\r\nmodule.exports = controller;"]}